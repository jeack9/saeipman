<div xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{common/layouts/default_layout}"
	layout:fragment="Main">

	<div class="col-sm-12 col-xl-11">
		<div class="bg-light rounded h-100 p-4">
			<h4 class="mb-4">공지사항</h4>

			<form id="scForm" th:action="@{/noticeBuildingList}" th:method='get'
				class="d-flex">
				
				<select class="form-select mb-6" aria-label="Default select example"
					id="option">
					<option selected>건물 목록</option>
					<option th:each="list : ${Bname}">[[${list.buildingName}]]</option>
					
				</select> <input class="form-control me-2" type="search" name="scKeyword"
					aria-label="Search" placeholder="Search" style="width: 180px;">
				<button class="btn btn-outline-success">Search</button>
			</form>
			<table class="table table-hover" style="text-align: center">
				<thead>
					<tr>
						<th scope="col" class="col-sm-1">번호</th>
						<th>건물이름</th>
						<th scope="col" class="col-sm-5">제목</th>
						<th scope="col">등록일</th>
						<th scope="col">조회수</th>
					</tr>
				</thead>
				<tbody>
					<th:block th:each="list : ${BNotice}">
						<tr>
							<th scope="row">[[${list.postNo}]]</th>
							<td>[[${list.buildingName}]]</td>
							<td>[[${list.title}]]</td>
							<td>[[${#dates.format(list.regDate, 'yyyy-MM-dd')}]]</td>
							<td>[[${list.views}]]</td>
						</tr>
					</th:block>
				</tbody>
			</table>
			<div style="text-align: right">
				<button type="button"
					th:onclick="|location.href='@{/noticeBuildingInsert}'|"
					class="btn btn-outline-success m-2">등록</button>
			</div>
			<nav aria-label="Page navigation example">
				<ul class="pagination justify-content-center">
					<li class="page-item" th:if="${Paging.startPage > 1}"><a
						class="page-link"
						th:href="@{/noticeBuildingList?nowPage={page} (page = ${Paging.startPage -1})}"
						aria-label="Previous"> <span aria-hidden="true">&laquo;</span>
					</a></li>

					<th:block
						th:with="start = ${Paging.startPage}, end = ${Paging.endPage}">
						<li class="page-item"
							th:with="start = ${Paging.startPage}, end = ${Paging.endPage}"
							th:each="pageButton : ${#numbers.sequence(start, end)}"><a
							class="page-link"
							th:href="@{/noticeBuildingList?nowPage={page} (page = ${pageButton})}"
							th:text=${pageButton}></a></li>
					</th:block>

					<li class="page-item" th:if="${Paging.nextPage}"><a
						class="page-link"
						th:href="@{/noticeBuildingList?nowPage={page} (page=${Paging.endPage+1})}"
						aria-label="Next"> <span aria-hidden="true">&raquo;</span>
					</a></li>
				</ul>
			</nav>
		</div>
	</div>
</div>

<script>
	$('tbody > tr').on('click', function(event) {
		let trTag = event.currentTarget;
		let postNo = $(trTag).children().first().text();
		let url = ctxPath + '/noticeBuildingInfo?postNo=' + postNo;
		location.href = url;
	})
	
	$('#option').on('change', )
	
</script>
