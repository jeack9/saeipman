<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{common/layouts/default_layout}"
	  layout:fragment="Main">
<head>
<meta charset="UTF-8">
<style>
.container{
    height: 50px;
    float:left;
}
</style>
<title>Insert title here</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
</head>
<body>
	<form  name="insertForm" th:action="@{/minwonInsert}" method="post" enctype="multipart/form-data">
		<div class="mb-3">
			<label for="">제목</label>
			<input type="text" id="title" name="title">
		</div>
		<div class="mb-3">
			<label for="roomNo">작성자</label>
		</div>
		
		<div class="mb-3">
		<label for="category">카테고리</label>
		<select class="form-select" id="category" name="category">
			 <option value="" selected>카테고리를 선택하세요</option>
			 	<option th:each="category : ${categories}"
                    	th:text="${category.categoryType}" th:value="${category.categoryNo}">
             	</option>
		</select>
		</div>
		
		<div class="mb-3">
			<label for="visitsDate">방문날짜</label>
			<input type="datetime-local" id="visitsDate">
			<input type="hidden" name="visitsDate">
		</div>
		<div class="mb-3">
			 <label for="formFile" class="form-label">첨부파일</label>
			 <input class="form-control" type="file" id="file" multiple name="files">
		</div>
		<div class="mb-3">
  			<label for="exampleFormControlTextarea1" class="form-label">내용</label>
  			<textarea class="form-control" id="exampleFormControlTextarea1" rows="3" name="content"></textarea>
		</div>
		<div>
			<button type="submit">등록</button>
		</div>
	</form>
	<script>
		//$('form[name="insertForm"]').on("submit", insertHandler);
		
		function insertHandler(e){
			e.preventDefault()
			$('[name="visitsDate"]').val(  $("#visitsDate").val().replace("T", " "))
			insertForm.submit();
		}
	</script>
</body>
</html>